# Preprocessing
## Data
### Internal Data
- 결측치 제거
	- 주문 생성시간과 주문 날짜의 차이를 고려하여 주문 생성시간이 null 값인 경우, 주문이 완료되지 않았다는 가정하에 null 값 갖는 row 제거
	- 수화인 주소1이 null 값인 row 제거
- 정규화
	- 수화인 주소1의 지역명을 모두 동일한 형식으로 변경
	- 상품 코드에서 동일 품목이라도 선택 옵션에 따라 _1, _2와 같이 다르게 표현된 경우, 선택옵션에 상관없이 모두 같은 코드를 갖도록 정규화

### External Data
- __성별/연령대별 인구__
	- 행정안전부 '주민등록 인구 및 세대현황'
	- 10살 단위, 성별을 총 인구수에 대한 비율과 총 인구수로 1차적으로 컬럼 생성
	- 10대, 2,30대, 4,5,60대 비율로 컬럼 재 구조화
- __세대원수별 세대수__
	- 행정안전부 '주민등록 인구 기타 현황'의 '지역별 세대원수별 세대수'
	- 세대 비율과 전체 세대수로 컬럼 생성
	- 1인부터 10인세대까지 나와있는 csv에서 핵가족 단위인 4인까지 1인, 2인, 3인, 4인과 5인 이상 세대로 재 분류
- __국가 공휴일__
	- 공공데이터포털 '한국천문연구원_특일 정보'의 '공휴일 정보 조회'
	- 2021년 3월부터 6월까지의 요일을 datetime 모듈의 weekday() 함수 사용하여 토, 일요일과 국가 공휴일을 휴일 처리하여 반환
- __전체 데이터셋에 적용__
	- 성별/연령별 인구와 세대원수별 세대수의 경우 melt와 pivot_table 활용하여 재구조화
	- 행정구역이 시도 단위인 row만 남김

## Time Series Clustering
__Time series clustering에 적합한 data format으로 변경__


## Model
__각 유형의 모델별로 필요한 input data를 만드는 과정__
- 각 유형에 따라 dataframe을 끊어서 개별의 dataframe을 만들어서 pickle 파일을 생성
- 내부 데이터에서 하루 전, 2일 전, 3일 전 판매 개수 컬럼, 주별 물품 개수 합계 컬럼, 일별 평균 가격 컬럼, 클러스터별 판매량 컬럼을 생성
- 이전 외부 데이터 전처리 과정에서 생성된 컬럼과 merge
- cluster, item , shpr_cd, shpr_cd_max 별 모델링을 위한 전처리 파일에서는 수화인 주소 별 판매량 컬럼을, cnee_id 별 모델링을 위한 전처리 파일에서는 클러스터 별 판매량 컬럼을 생성